---
title: "neural network v1"
author:
- Silke Meiner
- Rafaela Neff
output:
  html_document:
    toc: yes
    df_print: paged
  html_notebook: default
  pdf_document:
    toc: yes
    fig_caption: yes
---
Install keras if necesssary
```{r}
#install.packages("keras")
#use keras
library(keras)
# Install TensorFlow
#install.packages("tensorflow")
#install_tensorflow()
library(tensorflow)
#test if working
#output should be: tf.Tensor(b'Hellow Tensorflow', shape=(), dtype=string)
tf$constant("Hellow Tensorflow")
```
Read data without ID and empty X variables.
```{r}
#change working directory to current dir
wd = getwd()
setwd(wd)
#read data
ds <- read.csv('data/data.csv')[c(-33,-1)] # exclude ID and X
dim(ds)
#str(ds)
```
Convert column diagnosis
Encode as Integers: 0 = M = malignant or 1 = B = benign.
```{r}
ds$diagnosis <- as.factor(ds$diagnosis)
levels(ds$diagnosis) <- c('0','1')
str(ds)
```
Custom function for min-max-normalization
```{r}
normalize <- function(x) {
  num <- x - min(x)
  denom <- max(x) - min(x)
  return (num/denom)
}
dataset_n<-as.data.frame(lapply(ds[2:31] ,normalize))
str(dataset_n)
```
Normalize with keras
To use keras we have to transform our data to a matrix or an array
see: https://www.datacamp.com/community/tutorials/keras-r-deep-learning
```{r}
ds_matrix <- as.numeric(ds[,31])-1
#turn ds into a matrix
ds_matrix <- as.matrix(ds_matrix)
dimnames(ds_matrix) <- NULL
ds_norm_keras <- normalize(ds_matrix[2:31])
str(ds_norm_keras)
```

